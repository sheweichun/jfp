function t(t){return t?o(t)?t:[t]:[]}const n=t=>"function"==typeof t,e=t=>null==t,o=Array.isArray,r=t=>null==t||""===t;function s(t,n=[]){return t.forEach(t=>{var r,c;o(t)?s(t,n):!e(t)&&n.push("string"==typeof(c=t)||"number"==typeof c?{type:"#text",tag:16,props:{nodeValue:e(r=t)?"":r},status:0,hookCursor:0}:t)}),n}function c(){}function i(t){return"string"==typeof t?"svg"===t?8:2:n(t)?4:void 0}let u=null;function l(){return u}function a(t,n){return(r(t.key)&&r(n.key)||t.key===n.key)&&t.type===n.type}function f(t,n){const e=t.length,o=n.length,r=[Array(o+1).fill(0)];for(let s=1;s<=e;s++){r[s]=[0];const e=t[s-1];e.status=8;for(let t=1;t<=o;t++){const o=n[t-1];o.status=4,a(e,o)?r[s][t]=r[s-1][t-1]+1:r[s][t]=Math.max(r[s-1][t],r[s][t-1])}}return function t(n,e,o,r,s,c={}){if(0===r||0===s)return c;const i=r-1,u=s-1;return a(e[i],o[u])?(e[i].status=2,o[u].status=2,c[u]=i,t(n,e,o,i,u,c)):n[r][u]>n[i][s]?t(n,e,o,r,u,c):t(n,e,o,i,s,c)}(r,t,n,e,o)}function d(t,n,e){Object.keys(t).forEach(o=>e(o,t[o],(n||{})[o])),t=t||{},n=n||{},Object.keys(n).forEach(o=>e(o,t[o],n[o])),Object.keys(t).forEach(o=>!n.hasOwnProperty(o)&&e(o,t[o],void 0))}function h(t,n,e={}){d(n,e,(n,o,r)=>{if(o===r||"children"===n);else if("style"===n){const n=t.style||{};d(o,r,(t,e,o)=>{e!==o&&(n[t]=e)})}else if(0===n.indexOf("on")){const r=n.slice(2).toLowerCase();e[n]&&t.removeEventListener(r,e[n]),t.addEventListener(r,o)}else null==o||!1===o?t.removeAttribute(n.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())):t.setAttribute(n.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),o)})}function p(t){t.props=t.newProps,t.newProps={},t.children=t.newChildren,t.newChildren=[]}function g(n){const{type:e,tag:o}=n;"#text"===e?function(t){t.node=document.createTextNode(t.props.nodeValue)}(n):2&o||8&o?function(t){const{type:n,tag:e,props:o,children:r}=t,s=8&e,c=s?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);t.node=c,h(c,o),r&&r.forEach(n=>{n.tag=s?8:n.tag,v(n),c.appendChild(n.node),n.parent=t})}(n):4&o&&function(n){const{type:e,props:o,children:r}=n;n.node=document.createDocumentFragment();const s=t(e(Object.assign({},o,{children:r})));n.children=s,s.forEach(t=>{v(t),n.node.appendChild(t.node),t.parent=n})}(n)}function y(n){const{type:e,tag:o}=n;"#text"===e?function(t){t.node.textContent=t.newProps.nodeValue,p(t)}(n):2&o||8&o?function(t){const{props:n,node:e,newProps:o}=t;h(e,o,n),C(t),p(t)}(n):4&o&&function(n){const{type:e,newProps:o,children:r}=n,s=e(Object.assign({},o,{children:r}));n.newChildren=t(s),C(n),p(n)}(n)}function k(t){return 4&t.tag&&t.parent?k(t.parent):t.node}function w(t,n,e){if(!(t===n.length-1)){const o=function t(n,e,o){if(e<0||null==n)return null;if(4&n.tag){const r=n.children;if(r&&r.length>0){const n=r.length-1;return t(r[n],n,r)}{if(e<=0)return null;const n=e-1;return t(o[n],n,o)}}return n.node}(n[t-1],t-1,n);return null==o?k(e).firstChild:o.nextSibling}}function C(t){const{children:n,newChildren:e,tag:o}=t,r=f(n,e);n.forEach(t=>{8&t.status&&v(t)}),e.forEach((s,c)=>{if(2&s.status){const t=n[r[c]];if(t){const n=(i=s,(u=t).newChildren=i.children,u.newProps=i.props,u.ref=i.ref,u.key=i.key,u);e[c]=n,v(n)}s.status=0}else{{const n=8&o;s.tag=n?8:s.tag,v(s),s.parent=t;const r=w(c,e,t);null==r?k(t).appendChild(s.node):k(t).insertBefore(s.node,r)}var i,u}})}function v(t){if(null==t)return;const n=l();var e,o,r;if(u=e=t,e&&(e.hookCursor=0),t.node){if(8&t.status)return function t(n,e){4&e.tag?e.children&&e.children.forEach(e=>{t(n,e)}):e.node&&n.removeChild(e.node)}(k(t.parent),t),t.status=0,void(t.hooks&&(o=t.hooks.list,o&&0!==o.length&&o.forEach(t=>{if("effect"===t.type){const{data:n}=t;n&&n[2]&&n[2]()}})));y(t)}else g(t);t.hooks&&((r=t.hooks.effect)&&0!==r.length&&(r.forEach(t=>t.data[2]&&t.data[2]()),r.forEach(t=>t.data[2]=t.data[0]()),r.splice(0,r.length))),function(t){u=t}(n)}function E(t,n){t&&n&&(v(t),n.appendChild(t.node),t.node=n)}function m(t){return function(t,e){const[o,r]=x(),s=o.data;0===s.length&&(n(e)&&(e=e()),s[0]=e,s[1]=o=>{s[0]=t?t(e,o):n(o)?o(e):o,v(r)},o.type="state");return[s[0],s[1]]}(null,t)}function b(t,n){return function(t,n,e){const[o,r]=x(),s=o.data;c=s[1],i=n,(!c||c.length!==i.length||i.some((t,n)=>!Object.is(t,c[n])))&&(s[0]=t,s[1]=n,o.type=e,r.hooks[e].push(o));var c,i}(t,n,"effect")}function x(){const t=l(),n=t.hookCursor++,e=t.hooks||(t.hooks={list:[],effect:[],layout:[]});return n>=e.list.length&&e.list.push({data:[]}),[e.list[n],t]}const O=function(n,e,...o){const r=s(t((e=e||{}).children||o)),c=e.key||null,u=e.ref||null;return c&&(e.key=void 0),u&&(e.ref=void 0),function(t,n,e,o,r){return{type:t,tag:i(t),props:n,key:e,ref:o,status:0,children:r,hookCursor:0}}(n,e,c,u,r)};export{c as Fragment,O as j,E as render,y as updateRealNode,v as updateVnode,b as useEffect,m as useState};
//# sourceMappingURL=jfp.js.map
